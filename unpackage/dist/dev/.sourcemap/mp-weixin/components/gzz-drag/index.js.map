{"version":3,"sources":["webpack:///D:/Data/Development/wenote/components/gzz-drag/index.vue?1b22","webpack:///D:/Data/Development/wenote/components/gzz-drag/index.vue?97eb","webpack:///D:/Data/Development/wenote/components/gzz-drag/index.vue?ff52","webpack:///D:/Data/Development/wenote/components/gzz-drag/index.vue?b11a","uni-app:///components/gzz-drag/index.vue","webpack:///D:/Data/Development/wenote/components/gzz-drag/index.vue?ae28","webpack:///D:/Data/Development/wenote/components/gzz-drag/index.vue?bddc"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACoL;AACpL,gBAAgB,2LAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAurB,CAAgB,qrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmB3sB;AACA;AACA;AACA,iBADA;AAEA,+CAFA,EADA;;AAKA;AACA,oBADA;AAEA,iBAFA,EALA,EADA;;;AAWA,MAXA,kBAWA;AACA;AACA,sBADA;AAEA,mBAFA;AAGA,oBAHA;AAIA,kBAJA;AAKA,uBALA;;AAOA,GAnBA;AAoBA;AACA;AACA,qBADA;AAEA,gBAFA;AAGA,aAHA,mBAGA,IAHA,EAGA;AACA;AACA,OALA,EADA,EApBA;;;AA6BA;AACA,cADA,sBACA,CADA,EACA;AACA;AACA,KAHA;AAIA,WAJA,mBAIA,IAJA,EAIA;AACA;AACA;AACA;AACA,KARA;AASA,aATA,qBASA,CATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/BA;AAgCA,YAhCA,oBAgCA,IAhCA,EAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA,KAhDA;AAiDA,kBAjDA,0BAiDA,KAjDA,EAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxDA;AAyDA,aAzDA,qBAyDA,IAzDA,EAyDA;AACA;AACA;AACA;AACA;AACA;AACA,KA/DA;AAgEA,WAhEA,mBAgEA,IAhEA,EAgEA;AACA;AACA;AACA;AACA,YADA;AAEA,yBAFA;AAGA,uCAHA;AAIA,sBAJA;;AAMA,OARA;AASA,KA1EA;AA2EA,aA3EA,qBA2EA,GA3EA,EA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAzFA;AA0FA,WA1FA,mBA0FA,CA1FA,EA0FA;AACA;AACA;AACA;AACA,KA9FA,EA7BA;;AA6HA,SA7HA,qBA6HA;AACA,GA9HA;AA+HA;AACA,aADA,uBACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KATA,EA/HA,E;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAgwC,CAAgB,urCAAG,EAAC,C;;;;;;;;;;;ACApxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/gzz-drag/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=61988f58&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/gzz-drag/index.vue\"\nexport default component.exports","export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=61988f58&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.dataList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n      _vm.$setScopedSlotsParams(\"default\", {\n        item: $orig\n      })\n    }\n\n    return {\n      $orig: $orig\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"drag-box\">\n\t\t<view \r\n\t\t\tv-for=\"(item,index) in dataList\"\r\n\t\t\t:key=\"index\"\r\n\t\t\t:style=\"{top: item.top +'px',\r\n\t\t\t\theight: (itemHeight - 1)+'rpx'}\"\r\n\t\t\tclass=\"drag-item\"\r\n\t\t\t:class=\"{'drag-active': item.isActive}\"\r\n\t\t\t@longtap=\"longtap(item)\"\r\n\t\t\t@touchstart=\"touchstart\"\r\n\t\t\t@touchmove.stop.prevent=\"touchmove\"\r\n\t\t\t@touchend=\"touchend(item)\">\r\n\t\t\t\t<slot :item=\"item\"></slot>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\r\n\t\tprops: {\r\n\t\t  list: {\r\n\t\t    type: Array,\r\n\t\t    default: () => ([])\r\n\t\t  },\r\n\t\t  itemHeight: {\r\n\t\t    type: [Number],\r\n\t\t    default: 70\r\n\t\t  }\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tactiveItem: null,\r\n\t\t\t\tisDrag: false,\r\n\t\t\t\tdragTargetY: 0,\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tsortIndexList: [],\r\n\t\t\t}\n\t\t},\r\n\t\twatch: {\r\n\t\t  list: {\r\n\t\t    immediate: true,\r\n\t\t    deep: true,\r\n\t\t    handler (list) {\r\n\t\t      this.setList(list)\r\n\t\t    }\r\n\t\t  }\r\n\t\t},\n\t\tmethods: {\n\t\t\ttouchstart(e){\r\n\t\t\t\tthis.dragTargetY = e.touches[0].pageY;\r\n\t\t\t},\r\n\t\t\tlongtap(item){\r\n\t\t\t\tthis.activeItem = item;\r\n\t\t\t\tthis.isDrag = true;\r\n\t\t\t\titem.isActive = true;\r\n\t\t\t},\r\n\t\t\ttouchmove(e){\r\n\t\t\t\tif(!this.isDrag){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet newY = e.touches[0].pageY;\r\n\t\t\t\tlet d = newY - this.dragTargetY;\r\n\t\t\t\tthis.activeItem.top += d;\r\n\t\t\t\t\r\n\t\t\t\tlet prevIndex = this.sortIndexList[this.activeItem.index] - 1;\r\n\t\t\t\tlet nextIndex = this.sortIndexList[this.activeItem.index] + 1;\r\n\t\t\t\tif (prevIndex >= 0 && d < 0){\r\n\t\t\t\t\tlet item = this.getItemByIndex(prevIndex);\r\n\t\t\t\t\tif (this.activeItem.top < item.top){\r\n\t\t\t\t\t\tthis.swapArray(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if (nextIndex < this.list.length && d > 0) {\r\n\t\t\t\t\tlet item = this.getItemByIndex(nextIndex);\r\n\t\t\t\t\tif (this.activeItem.top > item.top){\r\n\t\t\t\t\t\tthis.swapArray(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.dragTargetY = newY;\r\n\t\t\t},\r\n\t\t\ttouchend(item){\r\n\t\t\t\tif(!this.isDrag){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.isDrag = false;\r\n\t\t\t\titem.isActive = false;\r\n\t\t\t\tthis.activeItem.top = this.sortIndexList[this.activeItem.index] * this.rowHeight;\r\n\t\t\t\tlet sortList = [];\r\n\t\t\t\tArray(this.dataList.length).fill(0).forEach((v,index)=>{\r\n\t\t\t\t\tlet tempObj = this.deepClone(this.getItemByIndex(index));\r\n\t\t\t\t\tdelete tempObj.isActive;\r\n\t\t\t\t\tdelete tempObj.top;\r\n\t\t\t\t\tdelete tempObj.index;\r\n\t\t\t\t\tsortList.push(tempObj);\r\n\t\t\t\t});\r\n\t\t\t\tthis.$emit('change', sortList);\r\n\t\t\t},\r\n\t\t\tgetItemByIndex(index){\r\n\t\t\t\tfor (let i = 0;i < this.sortIndexList.length;i++){\r\n\t\t\t\t\tif (this.sortIndexList[i] === index){\r\n\t\t\t\t\t\treturn this.dataList[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tswapArray(item) {//列表中两个元素交换位置\r\n\t\t\t\tlet index = this.sortIndexList[this.activeItem.index];\r\n\t\t\t\tthis.sortIndexList[this.activeItem.index] = this.sortIndexList[item.index];\r\n\t\t\t\tthis.sortIndexList[item.index] = index;\r\n\t\t\t\titem.top = index * this.rowHeight;\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t},\r\n\t\t\tsetList(list){\r\n\t\t\t\tthis.dataList = list.map((item, index) => {\r\n\t\t\t\t  this.sortIndexList.push(index);\r\n\t\t\t\t  return {\r\n\t\t\t\t    ...item,\r\n\t\t\t\t    isActive: false,\r\n\t\t\t\t\ttop: index * this.rowHeight,\r\n\t\t\t\t\tindex: index\r\n\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeepClone(obj){\r\n\t\t\t    let result={},oClass=this.isClass(obj);\r\n\t\t\t\tconsole.log(oClass)\r\n\t\t\t\tfor(let key in obj){\r\n\t\t\t\t\tlet copy=obj[key];\r\n\t\t\t\t\tif(this.isClass(copy)==\"Object\"){\r\n\t\t\t\t\t\tresult[key]=arguments.callee(copy);\r\n\t\t\t\t\t}else if(this.isClass(copy)==\"Array\"){\r\n\t\t\t\t\t\tresult[key]=arguments.callee(copy);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tresult[key]=obj[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\tisClass(o){\r\n\t\t\t    if(o===null) return \"Null\";\r\n\t\t\t\tif(o===undefined) return \"Undefined\";\r\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8,-1);\r\n\t\t\t}\n\t\t},\r\n\t\tmounted() {\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\trowHeight(){\r\n\t\t\t\tconst res = uni.getSystemInfoSync();\r\n\t\t\t\tlet screenWidth = res.screenWidth;\r\n\t\t\t\tif (this.itemHeight){\r\n\t\t\t\t\treturn this.itemHeight*screenWidth/750;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\r\n\t.drag-box{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\t.drag-item{\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\ttransition: all 0.5s;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tz-index: 1;\r\n\t\t\tborder-bottom: 1rpx solid #F5F5F5;\r\n\t\t\tposition: absolute;\r\n\t\t}\r\n\t}\r\n\t.drag-active{\r\n\t\tbox-shadow: 0 8px 20px 0 #e6e6e6;\r\n\t\ttransform: scale(1.1);\r\n\t\tz-index: 9 !important;\r\n\t\ttransition:  box-shadow .5s, transform .5s, top 0s !important;\r\n\t}\n</style>","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1626920730808\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}